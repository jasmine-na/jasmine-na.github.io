<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>JavaScript常用API总结</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" content="#00796b">
  <meta name="msapplication-TileColor" content="#4E8071"/>
  
  
  <link rel="alternative" href="/atom.xml" title="李一娜的博客" type="application/atom+xml">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css"> 
</head>


<body>

  <div id="container" class="container">
    <div class="left-col">
    <div class="intrude-less">
  <header id="header" class="inner">
    <a href="/" class="profilepic">
      <img src="https://jasmine-na.github.io/img/avatar.jpg" class="block-select js-avatar" style="width: 100%;height: 100%;opacity: 1;">
	</a>
	<p class="header-subtitle">技术宅女一枚</p>
    <nav class="header-menu">
      <ul>
        <li><a href="/archives">文章</a></li><li><a href="/tags">标签</a></li><li><a href="/photos">相册</a></li><li><a href="/feedback">留言</a></li><li><a href="/aboutme/">about me</a></li>
      </ul>
    </nav>
  </header>				
</div>
<div class="bottom-logo" style="bottom: 5px;background: url(http://images.missyuan.com/attachments/day_090901/20090901_26d53fd68595b3773beaH7sYHt89zOHT.png)transparent center no-repeat;background-size: 100%;margin: 0 30px;width: 75%;height: 120px;position: absolute;opacity: 0.4;"></div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  <div class="intrude-less">
    <header id="header" class="inner">
      <a href="/" class="profilepic">
        <img src="https://jasmine-na.github.io/img/avatar.jpg" class="block-select js-avatar" style="width: 100%;height: 100%;opacity: 1;">
	  </a>
	  <p class="header-subtitle">技术宅女一枚</p>
	  <nav class="header-menu">
	    <ul>
        <li><a href="/archives">文章</a></li><li><a href="/tags">标签</a></li><li><a href="/photos">相册</a></li><li><a href="/feedback">留言</a></li><li><a href="/aboutme/">about me</a></li><div class="clearfix"></div>
		</ul>
	  </nav>
	</header>				
  </div>
</nav>

      <div class="body-wrap">
<article id="post-JavaScript常用API总结" class="article article-type-post" itemscope itemprop="blogPost">

   
    
    <div class="article-meta">
      
<div class="article-date">
<span class="datetime-published-tag"> 2016-11-27 </span>
</div>


    </div>
    
    
  
  <div class="article-inner block-select">
  
    
    
      <header class="article-header">
        
           
  
    <h1 class="article-title" itemprop="name">
      JavaScript常用API总结
    </h1>
  

        
      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud block-select">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/">js</a></li></ul>
	</div>


        
             <div class="clearfix"></div>
        
      </div>
      
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>下面是我整理的一些JavaScript常用的API清单。</p>
<p>目录</p>
<p>元素查找<br>class操作<br>节点操作<br>属性操作<br>内容操作<br>css操作<br>位置大小<br>事件<br>DOM加载完毕<br>绑定上下文<br>去除空格<br>Ajax<br>JSON处理<br>节点遍历<br>元素查找</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="regexp">//</span> Node</div><div class="line"><span class="built_in">document</span>.getElementById(id) <span class="regexp">//</span> <span class="built_in">document</span>.getElementById(<span class="string">'test'</span>)</div><div class="line"><span class="built_in">document</span>.querySelector(selectors) <span class="regexp">//</span> <span class="built_in">document</span>.querySelector(<span class="string">'#test div'</span>)</div><div class="line"><span class="built_in">document</span>.doctype</div><div class="line"><span class="built_in">document</span>.documentElement</div><div class="line"><span class="built_in">document</span>.head</div><div class="line"><span class="built_in">document</span>.title</div><div class="line"><span class="built_in">document</span>.body</div><div class="line"> </div><div class="line"><span class="regexp">//</span> NodeList</div><div class="line"><span class="built_in">document</span>.getElementsByClassName(names) <span class="regexp">//</span> <span class="built_in">document</span>.getElementsByClassName(<span class="string">'test'</span>)</div><div class="line"><span class="built_in">document</span>.getElementsByName(name) <span class="regexp">//</span> <span class="built_in">document</span>.getElementsByName(<span class="string">'demo'</span>)</div><div class="line"><span class="built_in">document</span>.getElementsByTagName(name) <span class="regexp">//</span> <span class="built_in">document</span>.getElementsByTagName(<span class="string">'div'</span>)</div><div class="line"><span class="built_in">document</span>.getElementsByTagNameNS(namespace, name) <span class="regexp">//</span> <span class="built_in">document</span>.getElementsByTagNameNS(<span class="string">'http://www.w3.org/1999/xhtml'</span>, <span class="string">'div'</span>)</div><div class="line"><span class="built_in">document</span>.querySelectorAll(selectors) <span class="regexp">//</span> <span class="built_in">document</span>.querySelectorAll(<span class="string">'#test div'</span>)</div><div class="line"><span class="built_in">document</span>.links</div><div class="line"><span class="built_in">document</span>.scripts</div><div class="line"><span class="built_in">document</span>.images</div><div class="line"><span class="built_in">document</span>.embeds</div><div class="line"><span class="built_in">document</span>.forms</div></pre></td></tr></table></figure>
<p>class操作</p>
<figure class="highlight sqf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ie8</span></div><div class="line"><span class="comment">// add class</span></div><div class="line">el.<span class="built_in">className</span> += <span class="string">' '</span> + <span class="built_in">className</span>;</div><div class="line"> </div><div class="line"><span class="comment">// has class</span></div><div class="line">function hasClass(el,<span class="built_in">className</span>)&#123;</div><div class="line">  return new RegExp(<span class="string">'(^| )'</span> + <span class="built_in">className</span> + <span class="string">'( |$)'</span>, <span class="string">'gi'</span>).test(el.<span class="built_in">className</span>);</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="comment">// toggle class</span></div><div class="line">function toggleClass(el,<span class="built_in">className</span>)&#123;</div><div class="line">  var classes = el.<span class="built_in">className</span>.split(<span class="string">' '</span>);</div><div class="line">  var existingIndex = -<span class="number">1</span>;</div><div class="line">  <span class="keyword">for</span> (var i = classes.length; i--;) &#123;</div><div class="line">    <span class="keyword">if</span> (classes[i] === <span class="built_in">className</span>)&#123;</div><div class="line">      existingIndex = i;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">if</span> (existingIndex &gt;= <span class="number">0</span>)&#123;</div><div class="line">    classes.splice(existingIndex, <span class="number">1</span>);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">else</span>&#123;</div><div class="line">    classes.push(<span class="built_in">className</span>);</div><div class="line">  &#125;</div><div class="line">  el.<span class="built_in">className</span> = classes.<span class="built_in">join</span>(<span class="string">' '</span>);</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="comment">// remove class</span></div><div class="line">function remove(el,<span class="built_in">className</span>)&#123;</div><div class="line">  el.<span class="built_in">className</span> = el.<span class="built_in">className</span>.replace(new RegExp(<span class="string">'(^|\\b)'</span> + <span class="built_in">className</span>.split(<span class="string">' '</span>).<span class="built_in">join</span>(<span class="string">'|'</span>) + <span class="string">'(\\b|$)'</span>, <span class="string">'gi'</span>), <span class="string">' '</span>);</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="comment">// ie 10</span></div><div class="line">el.classList.add(<span class="built_in">className</span>); <span class="comment">// add class</span></div><div class="line">el.classList.remove(<span class="built_in">className</span>); <span class="comment">// remove class</span></div><div class="line">el.classList.contains(<span class="built_in">className</span>); <span class="comment">// has class</span></div><div class="line">el.classList.toggle(<span class="built_in">className</span>); <span class="comment">// toggle class</span></div></pre></td></tr></table></figure>
<p>节点操作</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 创建</span></div><div class="line"><span class="keyword">var</span> el = document.createElement(name);</div><div class="line"> </div><div class="line"><span class="comment">// 复制</span></div><div class="line">el.cloneNode(<span class="keyword">true</span>); <span class="comment">// 默认为false(克隆节点及其后代), true(克隆节点及其属性，以及后代)</span></div><div class="line"> </div><div class="line"><span class="comment">// 向节点添加最后一个子节点</span></div><div class="line"><span class="keyword">parent</span>.appendChild(el);</div><div class="line"> </div><div class="line"><span class="comment">// 在指定子节点之前插入新的子节点</span></div><div class="line"><span class="keyword">parent</span>.insertBefore(el, <span class="keyword">parent</span>.childNodes[<span class="number">0</span>]);</div><div class="line"> </div><div class="line"><span class="comment">// insertAdjacentHTML方法</span></div><div class="line">el.insertAdjacentHTML(where, htmlString);</div><div class="line">el.insertAdjacentHTML(<span class="string">'beforeBegin'</span>, htmlString); <span class="comment">// 在该元素前插入</span></div><div class="line">el.insertAdjacentHTML(<span class="string">'afterBegin'</span>, htmlString); <span class="comment">// 在该元素第一个子元素前插入</span></div><div class="line">el.insertAdjacentHTML(<span class="string">'beforeEnd'</span>, htmlString); <span class="comment">// 在该元素最后一个子元素后面插入</span></div><div class="line">el.insertAdjacentHTML(<span class="string">'afterEnd'</span>, htmlString); <span class="comment">// 在该元素后插入</span></div><div class="line"> </div><div class="line"><span class="comment">// 父元素</span></div><div class="line">el.parentNode</div><div class="line"> </div><div class="line"><span class="comment">// 删除节点</span></div><div class="line">el.parentNode.removeChild(el);</div><div class="line"> </div><div class="line"><span class="comment">// 兄弟节点 ie9+</span></div><div class="line"><span class="keyword">var</span> siblings = <span class="keyword">Array</span>.prototype.filter.call(el.parentNode.children, <span class="function"><span class="keyword">function</span><span class="params">(child)</span></span>&#123;</div><div class="line">  <span class="keyword">return</span> child !== el;</div><div class="line">&#125;)</div><div class="line"> </div><div class="line"><span class="comment">// 下一个兄弟节点</span></div><div class="line"><span class="comment">// ie8</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">nextElementSibling</span><span class="params">(el)</span> </span>&#123;</div><div class="line">  <span class="keyword">do</span> &#123; el = el.nextSibling; &#125; <span class="keyword">while</span> ( el &amp;&amp; el.nodeType !== <span class="number">1</span> );</div><div class="line">  <span class="keyword">return</span> el;</div><div class="line">&#125;</div><div class="line">nextElementSibling(el);</div><div class="line"><span class="comment">// ie9+</span></div><div class="line">el.nextElementSibling;</div><div class="line"> </div><div class="line"><span class="comment">// 上一个兄弟节点</span></div><div class="line"><span class="comment">// ie8</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">previousElementSibling</span><span class="params">(el)</span> </span>&#123;</div><div class="line">  <span class="keyword">do</span> &#123; </div><div class="line">    el = el.previousSibling;</div><div class="line">  &#125; </div><div class="line">  <span class="keyword">while</span> ( el &amp;&amp; el.nodeType !== <span class="number">1</span> );</div><div class="line">  <span class="keyword">return</span> el;</div><div class="line">&#125;</div><div class="line">previousElementSibling(el);</div><div class="line"><span class="comment">// ie9+</span></div><div class="line">el.previousElementSibling;</div><div class="line"> </div><div class="line"><span class="comment">// Children</span></div><div class="line"><span class="comment">// ie8</span></div><div class="line"><span class="keyword">var</span> children = [];</div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = el.children.length; i--;) &#123;</div><div class="line">  <span class="comment">// Skip comment nodes on IE8</span></div><div class="line">  <span class="keyword">if</span> (el.children[i].nodeType != <span class="number">8</span>)</div><div class="line">    children.unshift(el.children[i]);</div><div class="line">&#125;</div><div class="line"><span class="comment">// ie9+</span></div><div class="line">el.children</div></pre></td></tr></table></figure>
<p>属性操作</p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 获取属性值</span></div><div class="line">el.getAttribute(<span class="string">'alt'</span>);</div><div class="line"> </div><div class="line"><span class="comment">// 设置属性值</span></div><div class="line">el.setAttribute(<span class="string">'alt'</span>, <span class="string">'图片描述'</span>);</div><div class="line">内容操作</div><div class="line"></div><div class="line"><span class="comment">// 获取元素内容</span></div><div class="line">el.innerHTML</div><div class="line"><span class="comment">// 设置元素内容</span></div><div class="line">el.innerHTML = <span class="keyword">string</span></div><div class="line"><span class="comment">// 获取元素内容(包含元素自身)</span></div><div class="line">el.outerHTML</div><div class="line"><span class="comment">// 设置元素内容(包含元素自身)</span></div><div class="line">el.outerHTML = <span class="keyword">string</span></div><div class="line"> </div><div class="line"><span class="comment">// 获取文本内容</span></div><div class="line"><span class="comment">// ie8</span></div><div class="line">el.innerText</div><div class="line"><span class="comment">// ie9+</span></div><div class="line">el.textContent</div><div class="line"><span class="comment">// 设置文本内容</span></div><div class="line"><span class="comment">// ie8</span></div><div class="line">el.innerText = <span class="keyword">string</span></div><div class="line"><span class="comment">// ie9+</span></div><div class="line">el.textContent = <span class="keyword">string</span></div></pre></td></tr></table></figure>
<p>CSS操作</p>
<figure class="highlight qml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 获取css样式</span></div><div class="line"><span class="comment">// ie8</span></div><div class="line">el.currentStyle[attrName]</div><div class="line"><span class="comment">// ie9+</span></div><div class="line"><span class="built_in">window</span>.getComputedStyle(el)[attrName]</div><div class="line"><span class="comment">// 伪类</span></div><div class="line"><span class="built_in">window</span>.getComputedStyle(el , <span class="string">":after"</span>)[attrName];</div><div class="line"> </div><div class="line"><span class="comment">// 设置CSS样式</span></div><div class="line">el.style.display = <span class="string">'none'</span>;</div><div class="line">位置大小</div><div class="line"></div><div class="line"><span class="comment">// getBoundingClientRect返回一个对象，包含top,left,right,bottom,width,height</span></div><div class="line"><span class="comment">// width、height 元素自身宽高</span></div><div class="line"><span class="comment">// top 元素上外边界距窗口最上面的距离</span></div><div class="line"><span class="comment">// right 元素右外边界距窗口最上面的距离</span></div><div class="line"><span class="comment">// bottom 元素下外边界距窗口最上面的距离</span></div><div class="line"><span class="comment">// left 元素左外边界距窗口最上面的距离</span></div><div class="line"><span class="comment">// width 元素自身宽(包含border,padding) </span></div><div class="line"><span class="comment">// height 元素自身高(包含border,padding) </span></div><div class="line"> </div><div class="line"><span class="comment">// 元素在页面上的偏移量</span></div><div class="line"><span class="built_in">var</span> <span class="built_in">rect</span> = el.getBoundingClientRect()</div><div class="line"><span class="keyword">return</span> &#123;</div><div class="line">  <span class="attribute">top</span>: <span class="built_in">rect</span>.top + <span class="built_in">document</span>.body.scrollTop,</div><div class="line">  <span class="attribute">left</span>: <span class="built_in">rect</span>.left + <span class="built_in">document</span>.body.scrollLeft</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="comment">// 元素自身宽(包含border,padding) </span></div><div class="line">el.offsetWidth</div><div class="line"><span class="comment">// 元素自身高(包含border,padding) </span></div><div class="line">el.offsetHeight</div><div class="line"><span class="comment">// 元素的左外边框至包含元素的左内边框之间的像素距离</span></div><div class="line">el.offsetLeft</div><div class="line"><span class="comment">// 元素的上外边框至包含元素的上内边框之间的像素距离</span></div><div class="line">el.offsetTop </div><div class="line"> </div><div class="line"><span class="comment">//通常认为 &lt;html&gt; 元素是在 Web 浏览器的视口中滚动的元素（IE6 之前版本运行在混杂模式下时是 &lt;body&gt; 元素） </span></div><div class="line"><span class="comment">//因此，带有垂直滚动条的页面总高度就是 document.documentElement.scrollHeight</span></div><div class="line"><span class="comment">// 在没有滚动条的情况下，元素内容的总高度</span></div><div class="line">scrollHeight</div><div class="line"><span class="comment">// 在没有滚动条的情况下，元素内容的总宽度</span></div><div class="line">scrollWidth</div><div class="line"><span class="comment">// 被隐藏在内容区域左侧的像素数。通过设置这个属性可以改变元素的滚动位置</span></div><div class="line">scrollLeft</div><div class="line"><span class="comment">// 被隐藏在内容区域上方的像素数。通过设置这个属性可以改变元素的滚动位置</span></div><div class="line">scrollTop</div><div class="line"> </div><div class="line"><span class="comment">// 视口大小</span></div><div class="line"><span class="comment">// ie9+</span></div><div class="line"><span class="built_in">var</span> pageWidth = <span class="built_in">window</span>.innerWidth,</div><div class="line">    pageHeight = <span class="built_in">window</span>.innerHeight;</div><div class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> pageWidth != <span class="string">"number"</span>)&#123; </div><div class="line">  <span class="comment">// ie8</span></div><div class="line">  <span class="keyword">if</span> (<span class="built_in">document</span>.compatMode == <span class="string">"CSS1Compat"</span>)&#123;</div><div class="line">    pageWidth = <span class="built_in">document</span>.documentElement.clientWidth;</div><div class="line">    pageHeight = <span class="built_in">document</span>.documentElement.clientHeight;</div><div class="line">  &#125; <span class="title">else</span> &#123; </div><div class="line">    <span class="comment">// ie6混杂模式</span></div><div class="line">    pageWidth = <span class="built_in">document</span>.body.clientWidth;</div><div class="line">    pageHeight = <span class="built_in">document</span>.body.clientHeight;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>事件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 绑定事件</span></div><div class="line"><span class="comment">// ie9+</span></div><div class="line">el.addEventListener(eventName, handler , Booleans); <span class="comment">// Booleans默认false(事件在冒泡阶段执行),true(事件在捕获阶段执行)</span></div><div class="line"><span class="comment">// ie8</span></div><div class="line">el.attachEvent(<span class="string">'on'</span> + eventName, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  handler.call(el);</div><div class="line">&#125;);</div><div class="line"> </div><div class="line"><span class="comment">// 移除事件</span></div><div class="line"><span class="comment">// ie9+</span></div><div class="line">el.removeEventListener(eventName, handler); </div><div class="line"><span class="comment">// ie8</span></div><div class="line">el.detachEvent(<span class="string">'on'</span> + eventName, handler);</div><div class="line"> </div><div class="line"><span class="comment">// 事件触发</span></div><div class="line"><span class="keyword">if</span> (<span class="built_in">document</span>.createEvent) &#123;</div><div class="line">  <span class="comment">// ie9+</span></div><div class="line">  <span class="keyword">var</span> event = <span class="built_in">document</span>.createEvent(<span class="string">'HTMLEvents'</span>);</div><div class="line">  event.initEvent(<span class="string">'change'</span>, <span class="literal">true</span>, <span class="literal">false</span>);</div><div class="line">  el.dispatchEvent(event);</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">  <span class="comment">// ie8</span></div><div class="line">  el.fireEvent(<span class="string">'onchange'</span>);</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="comment">// event对象</span></div><div class="line"><span class="keyword">var</span> event = <span class="built_in">window</span>.event||event;</div><div class="line"> </div><div class="line"><span class="comment">// 事件的目标节点</span></div><div class="line"><span class="keyword">var</span> target = event.target || event.srcElement;</div><div class="line"> </div><div class="line"><span class="comment">// 事件代理</span></div><div class="line">ul.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (event.target.tagName.toLowerCase() === <span class="string">'li'</span>) &#123;</div><div class="line">    <span class="built_in">console</span>.log(event.target.innerHTML)</div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line">DOM加载完毕</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">ready</span>(<span class="params">fn</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (<span class="built_in">document</span>.readyState != <span class="string">'loading'</span>)&#123;</div><div class="line">    <span class="comment">// ie9+</span></div><div class="line">    <span class="built_in">document</span>.addEventListener(<span class="string">'DOMContentLoaded'</span>, fn);</div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="comment">// ie8</span></div><div class="line">    <span class="built_in">document</span>.attachEvent(<span class="string">'onreadystatechange'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">if</span> (<span class="built_in">document</span>.readyState != <span class="string">'loading'</span>)&#123;</div><div class="line">        fn();</div><div class="line">      &#125;</div><div class="line">    &#125;);</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>绑定上下文</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ie8</span></div><div class="line">fn.apply(context, <span class="built_in">arguments</span>);</div><div class="line"><span class="comment">// ie9+</span></div><div class="line">fn.bind(context);</div><div class="line">去除空格</div><div class="line"></div><div class="line"><span class="comment">// ie8</span></div><div class="line">string.replace(<span class="regexp">/^\s+|\s+$/g</span>, <span class="string">''</span>);</div><div class="line"><span class="comment">// ie9+</span></div><div class="line">string.trim();</div><div class="line">ajax</div><div class="line"></div><div class="line"><span class="comment">// GET</span></div><div class="line"><span class="keyword">var</span> request = <span class="keyword">new</span> XMLHttpRequest();</div><div class="line">request.open(<span class="string">'GET'</span>, <span class="string">'user.php?fname=Bill&amp;lname=Gates'</span>, <span class="literal">true</span>); <span class="comment">// false（同步）</span></div><div class="line">request.send();</div><div class="line"> </div><div class="line"><span class="comment">// ie8</span></div><div class="line">request.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.readyState === <span class="number">4</span>) &#123;</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.status &gt;= <span class="number">200</span> &amp;&amp; <span class="keyword">this</span>.status &lt; <span class="number">400</span>) &#123;</div><div class="line">      <span class="comment">// Success!</span></div><div class="line">      <span class="keyword">var</span> data = <span class="built_in">JSON</span>.parse(<span class="keyword">this</span>.responseText);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">      <span class="comment">// 错误</span></div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// ie9+</span></div><div class="line">request.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (request.status &gt;= <span class="number">200</span> &amp;&amp; request.status &lt; <span class="number">400</span>) &#123;</div><div class="line">    <span class="comment">// Success!</span></div><div class="line">    <span class="keyword">var</span> data = <span class="built_in">JSON</span>.parse(request.responseText);</div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="comment">// 服务器返回出错</span></div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line">request.onerror = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="comment">// 连接错误</span></div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// POST</span></div><div class="line"><span class="keyword">var</span> request = <span class="keyword">new</span> XMLHttpRequest(); </div><div class="line">request.open(<span class="string">'POST'</span>, <span class="string">'user.php'</span>, <span class="literal">true</span>); <span class="comment">// false（同步）</span></div><div class="line">request.setRequestHeader(<span class="string">"Content-type"</span>,<span class="string">"application/x-www-form-urlencoded"</span>);</div><div class="line">request.send(dataString);</div></pre></td></tr></table></figure>
<p>JSON处理</p>
<figure class="highlight qml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">JSON</span>.parse(<span class="built_in">string</span>);</div><div class="line"><span class="built_in">JSON</span>.String(<span class="built_in">Object</span>)</div></pre></td></tr></table></figure>
<p>节点遍历</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">forEach</span><span class="params">( nodeList, callback )</span> </span>&#123;</div><div class="line">  <span class="keyword">if</span>(<span class="keyword">Array</span>.prototype.<span class="keyword">forEach</span>)&#123;</div><div class="line">    <span class="comment">// ie9+</span></div><div class="line">    <span class="keyword">Array</span>.prototype.<span class="keyword">forEach</span>.call( nodeList, callback );</div><div class="line">  &#125;<span class="keyword">else</span> &#123;</div><div class="line">    <span class="comment">// ie8</span></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; nodeList.length; i++)&#123;</div><div class="line">      callback(nodeList[i], i);</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="keyword">forEach</span>(document.querySelectorAll(selector),<span class="function"><span class="keyword">function</span><span class="params">(el, i)</span></span>&#123;</div><div class="line"> </div><div class="line">&#125;)</div></pre></td></tr></table></figure>

      
      
      
        <div class="post-copyright">
<p><a href="http://yoursite.com/2016/11/27/JavaScript常用API总结/">本文</a>为原创，转载请遵守本站<a href="/copyright/">版权声明</a></p>
<p class="updated-time" >更新于: </span>2016年11月28日 19:11</p>
</div>

      
    </div>
    
  </div>
  
    
<nav id="article-nav" class="block-select">
  
    <a href="/2016/11/27/node.js 使用ejs模板引擎时后缀换成.html/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">&lt;</strong>
      <div class="article-nav-title">
        
          node.js 使用ejs模板引擎时后缀换成.html
        
      </div>
    </a>
  
  
    <a href="/2016/11/27/Vue.js实践：一个Node.js+mongoDB+Vue.js的博客内容管理系统/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">Vue.js实践：一个Node.js+mongoDB+Vue.js的博客内容管理系统</div>
      <strong class="article-nav-caption">&gt;</strong>
    </a>
  
</nav>


  
</article>


<div class="duoshuo block-select">
<div class="commentwrap comments-hidden">

    <div class="comments-main">

    	<div class="ds-thread" data-thread-key="JavaScript常用API总结" data-title="JavaScript常用API总结" data-url="http://yoursite.com/2016/11/27/JavaScript常用API总结/"></div><script type="text/javascript">var duoshuoQuery = {short_name:"jasmine-na"};(function() { var ds = document.createElement('script'); ds.type = 'text/javascript';ds.async = true; ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js'; ds.charset = 'UTF-8';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds); })();</script>
    </div>
</div>





</div>
      <footer id="footer" class="block-select">
  <div class="outer">
    <div id="footer-info">
      <div class="footer-left">&copy; 2015-2016
        <a href="/aboutme/" class ="aboutme-foot-tag"> liyina</a>
      </div>
    </div>
  </div>
</footer>

    </div>
    <script>
	var ThemeXConfig = {fancybox: false,mathjax: false,animate: false,isHome: false,isPost: true,isArchive: false,isTag: false,isCategory: false,open_in_new: false, CDN_PATH: '' }
</script>


    <script src="/js/jquery-1.9.1.min.js"></script>
    <script src="/js/base.js"></script>
    <script src="/js/jquery.lazyload.min.js"></script>





  </div>
</body>
</html>
